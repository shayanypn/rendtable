<!DOCTYPE html>
<html>
<head>
	<title>Simple</title>
	<link rel="stylesheet" href="bootstrap.min.css" crossorigin="anonymous" />
	<script type="text/javascript" src="jquery-1.7.1.js"></script>
</head>
<body>
<div class="container">
	<div class="row">
		<div class="col-md-4">
			<button id="refresh" class="btn btn-default">Refresh</button>
		</div>
		<div class="col-md-4"></div>
		<div class="col-md-4">
			<input type="text" name="search-query" />
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div id="table"></div>
		</div>
	</div>
</div>
<script type="text/javascript" src="../dist/rendtable.js"></script>
<script type="text/javascript">

var customTable = RendTable.render('table', {
	table: {
		idName: 	'table-one',
		className: 	'table',
		loading: 	'<p class="text-center table-empty-loading" > Loading, please wait ... </p>',
		empty:   	'<p class="text-center table-empty-text" > Click "Add Gateway" to setup new gateway. </p>',
		builder: [
				{
					tag: 'div',
					className: 'well',
					elements:[
						{
							tag: 'div',
							className: 'alert alert-success',
							text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eius possimus sed accusantium ad dolor fugit facilis unde, labore odit totam natus beatae error sapiente illum, ducimus aut quasi ea nisi.'
						},
						{
							target: 'table'
						},
						{
							target: 'paging'
						}
					]
				}
		]
	},
	data: [
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  },
		{"first_name": "Gardy","last_name": "Gerald","email": "ggerald1@shop-pro.jp", "gender": "Male", "price": 200000, "date": 1516436751 },
		{"first_name": "Granger","last_name": "Mapson","email": "gmapson2@gov.uk", "gender": "Male", "price": 300000, "date": 1516436751 },
		{"first_name": "Fax","last_name": "Bartolommeo","email": "fbartolommeo3@example.com", "gender": "Male", "price": 400000, "date": 1516436751 },
		{"first_name": "Tracy","last_name": "Hache","email": "thache4@unblog.fr", "gender": "Female", "price": 500000, "date": 1516436751 },
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  },
		{"first_name": "Gardy","last_name": "Gerald","email": "ggerald1@shop-pro.jp", "gender": "Male", "price": 200000, "date": 1516436751 },
		{"first_name": "Granger","last_name": "Mapson","email": "gmapson2@gov.uk", "gender": "Male", "price": 300000, "date": 1516436751 },
		{"first_name": "Fax","last_name": "Bartolommeo","email": "fbartolommeo3@example.com", "gender": "Male", "price": 400000, "date": 1516436751 },
		{"first_name": "Tracy","last_name": "Hache","email": "thache4@unblog.fr", "gender": "Female", "price": 500000, "date": 1516436751 },
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  },
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  },
		{"first_name": "Gardy","last_name": "Gerald","email": "ggerald1@shop-pro.jp", "gender": "Male", "price": 200000, "date": 1516436751 },
		{"first_name": "Granger","last_name": "Mapson","email": "gmapson2@gov.uk", "gender": "Male", "price": 300000, "date": 1516436751 },
		{"first_name": "Fax","last_name": "Bartolommeo","email": "fbartolommeo3@example.com", "gender": "Male", "price": 400000, "date": 1516436751 },
		{"first_name": "Tracy","last_name": "Hache","email": "thache4@unblog.fr", "gender": "Female", "price": 500000, "date": 1516436751 },
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  },
		{"first_name": "Gardy","last_name": "Gerald","email": "ggerald1@shop-pro.jp", "gender": "Male", "price": 200000, "date": 1516436751 },
		{"first_name": "Granger","last_name": "Mapson","email": "gmapson2@gov.uk", "gender": "Male", "price": 300000, "date": 1516436751 },
		{"first_name": "Fax","last_name": "Bartolommeo","email": "fbartolommeo3@example.com", "gender": "Male", "price": 400000, "date": 1516436751 },
		{"first_name": "Tracy","last_name": "Hache","email": "thache4@unblog.fr", "gender": "Female", "price": 500000, "date": 1516436751 },
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  },
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  },
		{"first_name": "Gardy","last_name": "Gerald","email": "ggerald1@shop-pro.jp", "gender": "Male", "price": 200000, "date": 1516436751 },
		{"first_name": "Granger","last_name": "Mapson","email": "gmapson2@gov.uk", "gender": "Male", "price": 300000, "date": 1516436751 },
		{"first_name": "Fax","last_name": "Bartolommeo","email": "fbartolommeo3@example.com", "gender": "Male", "price": 400000, "date": 1516436751 },
		{"first_name": "Tracy","last_name": "Hache","email": "thache4@unblog.fr", "gender": "Female", "price": 500000, "date": 1516436751 },
		{"first_name": "Dulciana","last_name": "Aggio","email": "daggio0@geocities.jp", "gender": "Female", "price": 100000, "date": 1516436751  }
	],
	// data : './data_one.json',
	// mapResponse: function(response){
	// 	return response.data;
	// },
	// mapData: function(item){
	// 	return item;
	// },

	limit: 10,
	paging:{
		className: 'pagination'
	},


	searchFields: [
		'first_name',
		'last_name'
	],

	columns: [
		'COUNTER:#',
		{
			key: 'first_name',
			label: 'First Name',
			render: function(output, column, raw){
			return output + " -- " + raw.gender;
		  }
		},
		{key: 'last_name',label: 'Last Name'},
		{key: 'email',label: 'Email Address'},
		{
			key: 'date',
			label: 'Date',
			display: {
				type: 'datetime',
				format: 'mmm d, yyyy'
			}
		},{
			key: 'price',
			label: 'Price',
			prefix: '$',
			suffix: 'ریال',
			className: 'text-success',
			display: {
				type: 	'money',
				decimals: 2,
				decimal_sep: '.',
				thousands_sep: ','
			}
		},{
			key: 	'id',
			label: 	' action ',
			className: 'td-action text-center',
			elements: [
				{
					tag: 'button',
					className: 'btn btn-primary btn-xs',
					action: 'onCallClick',
					elements:[
						{
							tag: 'i',
							className: 'lnr lnr-plus-circle',
							text: 'edit'
						},
					]
				},
				{
					tag: 'button',
					className: 'btn btn-primary btn-xs',
					action: {
						trigger: 'mouseover',
						call: 'onClick'
					},
					elements:[
						{
							tag: 'i',
							className: 'lnr lnr-plus-circle',
							text: 'edit'
						}
					]
				}
			]
		}
	]
});


document.getElementById('refresh')
.addEventListener('click',function(){
	customTable.refresh();
})


var searchInput = document.getElementsByName('search-query')[0];
searchInput.addEventListener('keyup',function(e){
	customTable.search( e.target.value );
})

// name="search-query"
// customTable.method('onCallClick', function(){
// 	console.log('shayan is the best');
// });

customTable.action('onCallClick', function(){
	console.log('shayan is the best');
});

customTable.action('onClick', function(){
	console.log('shayan is the best');
});



</script>
</body>
</html>