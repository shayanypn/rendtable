!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("rendtable",[],e):"object"==typeof exports?exports.rendtable=e():t.rendtable=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";"use stric";function i(t){return t instanceof Array}function a(t){return(void 0===t?"undefined":y(t))===b.default.s}function o(t){return(void 0===t?"undefined":y(t))===b.default.n}function r(t,e){return-1!==t.indexOf(e)}function s(t){if(null===t||"object"!==(void 0===t?"undefined":y(t))||"isActiveClone"in t)return t;var e=t instanceof Date||t instanceof XMLHttpRequest?new t.constructor:t.constructor();for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t.isActiveClone=null,e[n]=s(t[n]),delete t.isActiveClone);return e}function c(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function u(t){var e,n,i,a="",o=function(t,e){a+=encodeURIComponent(t)+"="+encodeURIComponent(e)+"&"};for(n in t)if(Object.hasOwnProperty.call(t,n))if(i=t[n],"object"===(void 0===t?"undefined":y(t))&&t instanceof Array)for(e=0;e<i.length;e++)o(n,i[e]);else o(n,t[n]);return a.replace(/&$/,"").replace(/%20/g,"+")}function l(t,e){return Object.keys(e).forEach(function(n){t.hasOwnProperty(n)?"object"===y(t[n])&&"function"==typeof e[n]?t[n].callback=e[n]:"object"===y(t[n])&&"object"===y(e[n])&&("string"==typeof e[n].status&&(t[n].status=e[n].status),y(e[n].callback)&&(t[n].callback=e[n].callback)):"function"===n&&(t.default.callback=e[n])}),t}function f(t,e){var n=t.length>>>0,i=[];if("function"!=typeof e)throw new TypeError;for(var a=e,o=0;o<n;o++)if(o in t){var r=t[o];e.call(a,r,o,t)&&i.push(r)}return i}function p(t){return t.toUpperCase()}function d(t){return t.toLowerCase()}function h(t){return p(t.charAt(0))+t.slice(1)}function m(t,e,n,i){var a=t,o=isNaN(e)?2:Math.abs(e),r=n||".",s=void 0===i?",":i,c=a<0?"-":"",u=parseInt(a=Math.abs(a).toFixed(o))+"",l=(l=u.length)>3?l%3:0;return c+(l?u.substr(0,l)+s:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?r+Math.abs(a-u).toFixed(o).slice(2):"")}function g(t,e,n,i){var a=document.createElement(t);for(var o in e)a.setAttribute(o,e[o]);return void 0!==n&&a.appendChild(document.createTextNode(n)),a}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=n(1),b=function(t){return t&&t.__esModule?t:{default:t}}(v);t.exports={isArray:i,isString:a,isNumber:o,includeArray:r,clone:s,filter:f,extendCallback:l,toQueryString:u,isStandardBrowserEnv:c,capitalFL:h,toMoney:m,stringToUpper:p,stringToLower:d,createDOM:g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={s:"string",n:"number",f:"function",u:"undefined",c:"COUNTER",d:{d:"datetime",m:"money",tl:"toLowerCase",tu:"toUpperCase"}},t.exports=e.default},function(t,e,n){"use strict";var i=n(3),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=function(){return Object.create({version:function(){return"0.0.1"},render:function(t,e){return(new a.default).init(t,e)}})},r="undefined"!=typeof window?window:{};r.RendTable=new o,t.exports=r.RendTable,t.exports.default=r.RendTable},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(0),r=i(o),s=n(4),c=i(s),u=function(){this.option={},this.columns=[],this.ele,this.eleBody,this.columnEngine,this.tempData=[],this.store=[],this.printData=[],this.state,this.timerNotify,this.A=function(t){this.state=t,this.notifyStateChange(t)},this.paging={show:10,pages:0,current:1},this.actions={},this.init=function(t,e){this.A(1),this.options=Object.assign({limit:-1,pageToShow:10,paging:{className:"pagination"}},e),this.paging.show=this.options.pageToShow,this.ele=document.getElementById(t),this.A(2),this.initColumns();var n=this,i=function(t,e){n.eventUi(t,e)};return this.builder=(new c.default).init(this.ele,this.options,this.columns),this.builder.createContainer(i),this.initialData(),{action:function(t,e){"string"==typeof t&&"function"==typeof e&&(n.actions[t]=e)}}},this.initColumns=function(){if(this.A(3),r.default.isArray(this.options.columns)){var t=this.options.columns.map(function(t){if("string"==typeof t){var e=t.split(":");t={key:e[0],label:e[1]?e[1]:r.default.capitalFL(e[0]),order:!!e[2]}}return Object.create(t)});this.columns=t}else if("string"===Ember.typeOf(options.columns)){var e=[];options.columns.split(",").forEach(function(t){var n=t.split(":");e.push(Object.create({key:n[0],label:n[1]?n[1]:r.default.capitalFL(n[0]),order:!!n[2]}))}),this.columns=e}this.A(4)},this.updatePaging=function(){var t=(this.paging,this.options.limit),e=this.store.length;this.paging.pages=Math.floor(e/t)+1,this.A(17)},this.eventUi=function(t,e){var n=this;switch(t){case 1:!function t(e){"page"===e.type&&n.paging.pages>=e.num&&e.num>0?(n.paging.current=e.num,n.A(18)):("next"===e.type?e.num=n.paging.current+(n.paging.pages>n.paging.current?1:0):"prev"===e.type?e.num=n.paging.current-(n.paging.current>1?1:0):"last"===e.type?e.num=n.paging.pages:"first"===e.type&&(e.num=1),e.type="page",t(e))}(e);break;case 2:!function(t){n.paging.current=1,n.options.limit=t,n.A(19)}(e);break;case 5:!function(t){var e="string"==typeof t.action?t.action:null;if(e&&n.actions[e]){var i=n.actions[e];delete t.action,i(t)}else console.log("eventTdClick",t)}(e)}},this.initialData=function(){if(this.A(5),r.default.isArray(this.options.data))this.tempData=this.options.data,this.A(6);else if("string"==typeof this.options.data){var t=this;this.A(8),$.ajax({url:this.options.data,contentType:"application/json",success:function(e){var n=e;"function"==typeof t.options.mapResponse&&(n=t.options.mapResponse(n)),t.tempData=n,t.A(6)},always:function(){t.A(10)}})}else a(this.options.data)},this.loadData=function(t){var e=this.paging,n=this.options.limit,i=n>0?(e.current-1)*n:0,a=n>0?e.current*n:12e3;this.printData=this.store.slice(i,a),this.A(15)},this.injectData=function(){var t=this.tempData;"function"==typeof this.options.mapData&&(t=this.options.mapData(t)),this.store=this.store.concat(t),this.tempData=[],this.A(13)},this.appendRow=function(){var t=this,e=function(e,n){t.eventUi(e,n)},n=this.builder.appendRow(this.paging.current,this.options.limit,this.printData,e);this.printData=[],n?this.A(16):console.error("Problem on appending ROW")},this.notifyStateChange=function(t){switch(t){case 6:this.injectData();break;case 13:this.updatePaging(),this.loadData();break;case 15:this.appendRow();break;case 17:this.builder.appendPaging(this.paging);break;case 19:this.updatePaging();case 18:this.builder.empty(),this.loadData(),this.builder.appendPaging(this.paging)}}};t.exports=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a=n(5),o=i(a),r=n(0),s=i(r),c=function(){return s.default.createDOM("tbody")},u=function(){var t=s.default.createDOM("tfoot");s.default.createDOM("tr");return t},l=function(t){var e=s.default.createDOM("thead"),n=s.default.createDOM("tr");return t.forEach(function(t){n.appendChild(f(t))}),e.appendChild(n),e},f=function(t){var e=s.default.createDOM("th"),n=document.createTextNode(t.label);return e.appendChild(n),e},p=function(t){return s.default.createDOM("ul",{class:t.className?t.className:""})},d=function(t,e){t.innerHTML="";var n=e.pages>e.show?e.show:e.pages,i=Math.round(n/2),a=e.current-1,o=e.pages-e.current,r=1,c=n;e.pages>n&&(o<i?(r=e.pages-n,c=e.pages):a>i&&(r=e.current-i,c=r+n));var u=s.default.createDOM("li",{class:""}),l=s.default.createDOM("a",{href:"#","data-rend-action":"first"},"First");u.appendChild(l),t.appendChild(u);var f=s.default.createDOM("li",{class:""}),p=s.default.createDOM("a",{href:"#","data-rend-action":"prev"},"Prev");f.appendChild(p),t.appendChild(f);for(var d=r;d<=c;d++){var h=s.default.createDOM("li",{class:e.current===d?"active":""}),m=s.default.createDOM("a",{href:"#","data-rend-idx":d}),g=document.createTextNode(d);m.appendChild(g),h.appendChild(m),t.appendChild(h)}var y=s.default.createDOM("li",{class:""}),v=s.default.createDOM("a",{href:"#","data-rend-action":"next"},"Next");y.appendChild(v),t.appendChild(y);var b=s.default.createDOM("li",{class:""}),C=s.default.createDOM("a",{href:"#","data-rend-action":"last"},"Last");b.appendChild(C),t.appendChild(b)},h=function(t){var e=s.default.createDOM("select",{class:t.className?t.className:""});return[10,20,40].forEach(function(t){var n=s.default.createDOM("option",{value:t});n.appendChild(document.createTextNode(t)),e.appendChild(n)}),e},m=function(){this.option={},this.columns=[],this.ele,this.eleBody,this.elePg,this.init=function(t,e,n){return this.ele=t,this.options=e,this.columns=n,this.columnEngine=(new o.default).init(n),this},this.createContainer=function(t){var e=s.default.createDOM("table",{id:this.options.table.idName?this.options.table.idName:"",class:this.options.table.className?this.options.table.className:""}),n=c();this.eleBody=n,e.appendChild(l(this.columns)),e.appendChild(n),e.appendChild(u()),this.ele.appendChild(e);var i=p(this.options.paging);this.elePg=i,this.ele.appendChild(i),i.addEventListener("click",function(e){if("A"==e.target.nodeName){var n=e.target.dataset,i=n.rendAction?n.rendAction:"page",a=n.rendIdx?parseInt(n.rendIdx):null;t(1,{type:i,num:a})}e.preventDefault()},!1);var a=h({});this.ele.appendChild(a),a.addEventListener("change",function(e){if("SELECT"===e.target.nodeName){var n=parseInt(e.target.value);t(2,n)}e.preventDefault()},!1)},this.empty=function(){this.eleBody.innerHTML=""},this.appendPaging=function(t){d(this.elePg,t)},this.appendRow=function(t,e,n,i){try{var a=this,o=n.length,r=0;return function o(s){var c=s>200?200:s+1,u=200*r;if(!(c<0)){for(var l=0;l<c;l++){if(!n[u+l])return;var f=(t-1)*e+l,p=n[u+l],d=a.columnEngine.createRow(f,p,i);a.eleBody.appendChild(d)}s-=200,r++,setTimeout(function(){o(s)},50)}}(o),!0}catch(t){return!1}}};t.exports=m},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(0),r=i(o),s=n(1),c=i(s),u=function(t,e){switch((void 0===e?"undefined":a(e))===c.default.s&&(e={type:e}),e.type){case c.default.d.d:t=l(t,e);break;case c.default.d.m:t=f(t,e);break;case c.default.d.tl:t=r.default.stringToLower(t);break;case c.default.d.tu:t=r.default.stringToUpper(t)}return t},l=function(t,e){var n=e.format;return t&&n&&(r.default.isNumber(t)&&(t*=Math.pow(10,13-(t+"").length)),t=m.isMoment?moment(t).format(n):new Date(t)),t},f=function(t,e){var n=e.decimals,i=e.decimalSep,a=e.thousandsSep;return t&&n&&i&&a&&(t=r.default.toMoney(t,n,i,a)),t},p=function(t,e,n,i){var a=void 0,o={};e.className&&"string"==typeof e.className&&(o.class=e.className);var s=r.default.createDOM("td",o);return r.default.isArray(e.elements)&&e.elements.length?s=d(s,t,e.elements,n,i):(a=h(t,e,n),s.appendChild(a)),s},d=function t(e,n,i,o,s){return i.forEach(function(i){if("string"==typeof i.tag){var c={},u="object"===a(i.action)?i.action:null;"string"==typeof i.action&&(u={trigger:"click",call:i.action}),i.className&&"string"==typeof i.className&&(c.class=i.className);var l=r.default.createDOM(i.tag,c);void 0!==i.text&&"null"!=typeof i.text?l.appendChild(document.createTextNode(i.text)):r.default.isArray(i.elements)&&i.elements.length&&(l=t(l,n,i.elements,o)),u&&"function"==typeof s&&l.addEventListener(u.trigger,function(t){s(5,{data:o,rowIndex:n,event:t,action:u.call}),t.preventDefault()},!1),e.appendChild(l)}}),e},h=function(t,e,n){var i=n[e.key];if(e.key===c.default.c)i=t+1;else if(a(e.render)===c.default.f){var o=e.render;i=o(i,e,n)}else a(e.display)!=c.default.u&&(i=u(i||"",e.display));return i||(i=""),i=(e.prefix?e.prefix:"")+i+(e.suffix?e.suffix:""),document.createTextNode(i)},m=function(){this.isMoment=!1,this.columns={},this.init=function(t){try{moment().format("Y"),this.isMoment=!0}catch(t){this.isMoment=!1,console.log("moment is not exist")}return this.columns=t,this},this.createRow=function(t,e,n){var i=r.default.createDOM("tr");return this.columns.forEach(function(a){var o=p(t,a,e,n);i.appendChild(o)}),i}};t.exports=m}])});