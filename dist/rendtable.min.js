!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("rendtable",[],e):"object"==typeof exports?exports.rendtable=e():t.rendtable=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";"use stric";function i(t){return t instanceof Array}function a(t){return(void 0===t?"undefined":g(t))===b.default.s}function o(t){return(void 0===t?"undefined":g(t))===b.default.n}function r(t,e){return-1!==t.indexOf(e)}function s(t){if(null===t||"object"!==(void 0===t?"undefined":g(t))||"isActiveClone"in t)return t;var e=t instanceof Date||t instanceof XMLHttpRequest?new t.constructor:t.constructor();for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t.isActiveClone=null,e[n]=s(t[n]),delete t.isActiveClone);return e}function u(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function c(t){var e,n,i,a="",o=function(t,e){a+=encodeURIComponent(t)+"="+encodeURIComponent(e)+"&"};for(n in t)if(Object.hasOwnProperty.call(t,n))if(i=t[n],"object"===(void 0===t?"undefined":g(t))&&t instanceof Array)for(e=0;e<i.length;e++)o(n,i[e]);else o(n,t[n]);return a.replace(/&$/,"").replace(/%20/g,"+")}function l(t,e){return Object.keys(e).forEach(function(n){t.hasOwnProperty(n)?"object"===g(t[n])&&"function"==typeof e[n]?t[n].callback=e[n]:"object"===g(t[n])&&"object"===g(e[n])&&("string"==typeof e[n].status&&(t[n].status=e[n].status),g(e[n].callback)&&(t[n].callback=e[n].callback)):"function"===n&&(t.default.callback=e[n])}),t}function f(t,e){var n=t.length>>>0,i=[];if("function"!=typeof e)throw new TypeError;for(var a=e,o=0;o<n;o++)if(o in t){var r=t[o];e.call(a,r,o,t)&&i.push(r)}return i}function d(t){return t.toUpperCase()}function p(t){return t.toLowerCase()}function h(t){return d(t.charAt(0))+t.slice(1)}function m(t,e,n,i){var a=t,o=isNaN(e)?2:Math.abs(e),r=n||".",s=void 0===i?",":i,u=a<0?"-":"",c=parseInt(a=Math.abs(a).toFixed(o))+"",l=(l=c.length)>3?l%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?r+Math.abs(a-c).toFixed(o).slice(2):"")}function y(t,e,n,i){var a=document.createElement(t);for(var o in e)a.setAttribute(o,e[o]);return void 0!==n&&a.appendChild(document.createTextNode(n)),a}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=n(1),b=function(t){return t&&t.__esModule?t:{default:t}}(v);t.exports={isArray:i,isString:a,isNumber:o,includeArray:r,clone:s,filter:f,extendCallback:l,toQueryString:c,isStandardBrowserEnv:u,capitalFL:h,toMoney:m,stringToUpper:d,stringToLower:p,createDOM:y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={s:"string",n:"number",f:"function",u:"undefined",c:"COUNTER",d:{d:"datetime",m:"money",tl:"toLowerCase",tu:"toUpperCase"}},t.exports=e.default},function(t,e,n){"use strict";var i=n(3),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=function(){return Object.create({version:function(){return"0.0.1"},render:function(t,e){return(new a.default).init(t,e)}})},r="undefined"!=typeof window?window:{};r.RendTable=new o,t.exports=r.RendTable,t.exports.default=r.RendTable},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(0),r=i(o),s=n(4),u=i(s),c=function(){this.option={},this.columns=[],this.ele,this.eleBody,this.columnEngine,this.tempData=[],this.store=[],this.printData=[],this.state,this.timerNotify,this.A=function(t){this.state=t,this.notifyStateChange(t)},this.paging={show:10,pages:0,current:1},this.init=function(t,e){this.A(1),this.options=Object.assign({limit:-1,pageToShow:10,paging:{className:"pagination"}},e),this.paging.show=this.options.pageToShow,this.ele=document.getElementById(t),this.A(2),this.initColumns();var n=this,i=function(t,e){n.eventUi(t,e)};return this.builder=(new u.default).init(this.ele,this.options,this.columns),this.builder.createContainer(i),this.initialData(),this},this.initColumns=function(){if(this.A(3),r.default.isArray(this.options.columns)){var t=this.options.columns.map(function(t){if("string"==typeof t){var e=t.split(":");t={key:e[0],label:e[1]?e[1]:r.default.capitalFL(e[0]),order:!!e[2]}}return Object.create(t)});this.columns=t}else if("string"===Ember.typeOf(options.columns)){var e=[];options.columns.split(",").forEach(function(t){var n=t.split(":");e.push(Object.create({key:n[0],label:n[1]?n[1]:r.default.capitalFL(n[0]),order:!!n[2]}))}),this.columns=e}this.A(4)},this.updatePaging=function(){var t=(this.paging,this.options.limit),e=this.store.length;this.paging.pages=Math.floor(e/t)+1,this.A(17)},this.eventUi=function(t,e){var n=this;switch(t){case 1:!function t(e){"page"===e.type&&n.paging.pages>=e.num&&e.num>0?(n.paging.current=e.num,n.A(18)):"next"===e.type?(e.type="page",e.num=n.paging.current+1,t(e)):"prev"===e.type?(e.num=n.paging.current-1,t(e)):"last"===e.type?(e.num=n.paging.current-1,t(e)):"first"===e.type&&(e.num=1)}(e);break;case 2:!function(t){n.paging.current=1,n.options.limit=t,n.A(19)}(e)}},this.initialData=function(){if(this.A(5),r.default.isArray(this.options.data))this.tempData=this.options.data,this.A(6);else if("string"==typeof this.options.data){var t=this;this.A(8),$.ajax({url:this.options.data,contentType:"application/json",success:function(e){var n=e;"function"==typeof t.options.mapResponse&&(n=t.options.mapResponse(n)),t.tempData=n,t.A(6)},always:function(){t.A(10)}})}else a(this.options.data)},this.loadData=function(t){var e=this.paging,n=this.options.limit,i=n>0?(e.current-1)*n:0,a=n>0?e.current*n:12e3;this.printData=this.store.slice(i,a),this.A(15)},this.injectData=function(){var t=this.tempData;"function"==typeof this.options.mapData&&(t=this.options.mapData(t)),this.store=this.store.concat(t),this.tempData=[],this.A(13)},this.appendRow=function(){var t=this.builder.appendRow(this.paging.current,this.options.limit,this.printData);this.printData=[],t?this.A(16):console.error("Problem on appending ROW")},this.notifyStateChange=function(t){switch(t){case 6:this.injectData();break;case 13:this.updatePaging(),this.loadData();break;case 15:this.appendRow();break;case 17:this.builder.appendPaging(this.paging);break;case 19:this.updatePaging();case 18:this.builder.empty(),this.loadData(),this.builder.appendPaging(this.paging)}}};t.exports=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a=n(5),o=i(a),r=n(0),s=i(r),u=function(){return s.default.createDOM("tbody")},c=function(){var t=s.default.createDOM("tfoot");s.default.createDOM("tr");return t},l=function(t){var e=s.default.createDOM("thead"),n=s.default.createDOM("tr");return t.forEach(function(t){n.appendChild(f(t))}),e.appendChild(n),e},f=function(t){var e=s.default.createDOM("th"),n=document.createTextNode(t.label);return e.appendChild(n),e},d=function(t){return s.default.createDOM("ul",{class:t.className?t.className:""})},p=function(t,e){t.innerHTML="";var n=e.pages>e.show?e.show:e.pages,i=s.default.createDOM("li",{class:""}),a=s.default.createDOM("a",{href:"#","data-rend-action":"first"},"First");i.appendChild(a),t.appendChild(i);var o=s.default.createDOM("li",{class:""}),r=s.default.createDOM("a",{href:"#","data-rend-action":"prev"},"Prev");o.appendChild(r),t.appendChild(o);for(var u=1;u<=n;u++){var c=s.default.createDOM("li",{class:e.current===u?"active":""}),l=s.default.createDOM("a",{href:"#","data-rend-idx":u}),f=document.createTextNode(u);l.appendChild(f),c.appendChild(l),t.appendChild(c)}var d=s.default.createDOM("li",{class:""}),p=s.default.createDOM("a",{href:"#","data-rend-action":"next"},"Next");d.appendChild(p),t.appendChild(d);var h=s.default.createDOM("li",{class:""}),m=s.default.createDOM("a",{href:"#","data-rend-action":"last"},"Last");h.appendChild(m),t.appendChild(h)},h=function(t){var e=s.default.createDOM("select",{class:t.className?t.className:""});return[10,20,40].forEach(function(t){var n=s.default.createDOM("option",{value:t});n.appendChild(document.createTextNode(t)),e.appendChild(n)}),e},m=function(){this.option={},this.columns=[],this.ele,this.eleBody,this.elePg,this.init=function(t,e,n){return this.ele=t,this.options=e,this.columns=n,this.columnEngine=(new o.default).init(n),this},this.createContainer=function(t){var e=s.default.createDOM("table",{id:this.options.table.idName?this.options.table.idName:"",class:this.options.table.className?this.options.table.className:""}),n=u();this.eleBody=n,e.appendChild(l(this.columns)),e.appendChild(n),e.appendChild(c()),this.ele.appendChild(e);var i=d(this.options.paging);this.elePg=i,this.ele.appendChild(i),i.addEventListener("click",function(e){if("A"==e.target.nodeName){var n=e.target.dataset,i=n.rendAction?n.rendAction:"page",a=n.rendIdx?parseInt(n.rendIdx):null;t(1,{type:i,num:a})}e.preventDefault()},!1);var a=h({});this.ele.appendChild(a),a.addEventListener("change",function(e){if("SELECT"===e.target.nodeName){var n=parseInt(e.target.value);t(2,n)}e.preventDefault()},!1)},this.empty=function(){this.eleBody.innerHTML=""},this.appendPaging=function(t){p(this.elePg,t)},this.appendRow=function(t,e,n){try{var i=this,a=n.length,o=0;return function a(r){var s=r>200?200:r+1,u=200*o;if(!(s<0)){for(var c=0;c<s;c++){if(!n[u+c])return;var l=i.columnEngine.createRow((t-1)*e+c,n[u+c]);i.eleBody.appendChild(l)}r-=200,o++,setTimeout(function(){a(r)},50)}}(a),!0}catch(t){return!1}}};t.exports=m},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(0),r=i(o),s=n(1),u=i(s),c=function(t,e){switch((void 0===e?"undefined":a(e))===u.default.s&&(e={type:e}),e.type){case u.default.d.d:t=l(t,e);break;case u.default.d.m:t=f(t,e);break;case u.default.d.tl:t=r.default.stringToLower(t);break;case u.default.d.tu:t=r.default.stringToUpper(t)}return t},l=function(t,e){var n=e.format;return t&&n&&(r.default.isNumber(t)&&(t*=Math.pow(10,13-(t+"").length)),t=m.isMoment?moment(t).format(n):new Date(t)),t},f=function(t,e){var n=e.decimals,i=e.decimalSep,a=e.thousandsSep;return t&&n&&i&&a&&(t=r.default.toMoney(t,n,i,a)),t},d=function(t,e,n){var i=void 0,a={};e.className&&"string"==typeof e.className&&(a.class=e.className);var o=r.default.createDOM("td",a);return r.default.isArray(e.elements)&&e.elements.length?o=p(o,t,e.elements,n):(i=h(t,e,n),o.appendChild(i)),o},p=function t(e,n,i,a){return i.forEach(function(i){if("string"==typeof i.tag){var o={};i.className&&"string"==typeof i.className&&(o.class=i.className);var s=r.default.createDOM(i.tag,o);void 0!==i.text&&"null"!=typeof i.text?s.appendChild(document.createTextNode(i.text)):r.default.isArray(i.elements)&&i.elements.length&&(s=t(s,n,i.elements,a)),e.appendChild(s)}}),e},h=function(t,e,n){var i=n[e.key];if(e.key===u.default.c)i=t+1;else if(a(e.render)===u.default.f){var o=e.render;i=o(i,e,n)}else a(e.display)!=u.default.u&&(i=c(i||"",e.display));return i||(i=""),i=(e.prefix?e.prefix:"")+i+(e.suffix?e.suffix:""),document.createTextNode(i)},m=function(){this.isMoment=!1,this.columns={},this.init=function(t){try{moment().format("Y"),this.isMoment=!0}catch(t){this.isMoment=!1,console.log("moment is not exist")}return this.columns=t,this},this.createRow=function(t,e){var n=r.default.createDOM("tr");return this.columns.forEach(function(i){var a=d(t,i,e);n.appendChild(a)}),n}};t.exports=m}])});