!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("rendtable",[],e):"object"==typeof exports?exports.rendtable=e():t.rendtable=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";"use stric";function i(t){return t instanceof Array}function o(t){return(void 0===t?"undefined":g(t))===v.default.s}function a(t){return(void 0===t?"undefined":g(t))===v.default.n}function r(t,e){return-1!==t.indexOf(e)}function s(t){if(null===t||"object"!==(void 0===t?"undefined":g(t))||"isActiveClone"in t)return t;var e=t instanceof Date||t instanceof XMLHttpRequest?new t.constructor:t.constructor();for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t.isActiveClone=null,e[n]=s(t[n]),delete t.isActiveClone);return e}function u(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function c(t){var e,n,i,o="",a=function(t,e){o+=encodeURIComponent(t)+"="+encodeURIComponent(e)+"&"};for(n in t)if(Object.hasOwnProperty.call(t,n))if(i=t[n],"object"===(void 0===t?"undefined":g(t))&&t instanceof Array)for(e=0;e<i.length;e++)a(n,i[e]);else a(n,t[n]);return o.replace(/&$/,"").replace(/%20/g,"+")}function l(t,e){return Object.keys(e).forEach(function(n){t.hasOwnProperty(n)?"object"===g(t[n])&&"function"==typeof e[n]?t[n].callback=e[n]:"object"===g(t[n])&&"object"===g(e[n])&&("string"==typeof e[n].status&&(t[n].status=e[n].status),g(e[n].callback)&&(t[n].callback=e[n].callback)):"function"===n&&(t.default.callback=e[n])}),t}function f(t,e){var n=t.length>>>0,i=[];if("function"!=typeof e)throw new TypeError;for(var o=e,a=0;a<n;a++)if(a in t){var r=t[a];e.call(o,r,a,t)&&i.push(r)}return i}function p(t){return t.toUpperCase()}function d(t){return t.toLowerCase()}function h(t){return p(t.charAt(0))+t.slice(1)}function m(t,e,n,i){var o=t,a=isNaN(e)?2:Math.abs(e),r=n||".",s=void 0===i?",":i,u=o<0?"-":"",c=parseInt(o=Math.abs(o).toFixed(a))+"",l=(l=c.length)>3?l%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?r+Math.abs(o-c).toFixed(a).slice(2):"")}function y(t,e){var n=document.createElement(t);for(var i in e)n.setAttribute(i,e[i]);return n}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=n(1),v=function(t){return t&&t.__esModule?t:{default:t}}(b);t.exports={isArray:i,isString:o,isNumber:a,includeArray:r,clone:s,filter:f,extendCallback:l,toQueryString:c,isStandardBrowserEnv:u,capitalFL:h,toMoney:m,stringToUpper:p,stringToLower:d,createDOM:y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={s:"string",n:"number",f:"function",u:"undefined",c:"COUNTER",d:{d:"datetime",m:"money",tl:"toLowerCase",tu:"toUpperCase"}},t.exports=e.default},function(t,e,n){"use strict";var i=n(3),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){return Object.create({render:function(t,e){return(new o.default).init(t,e)}})};window.RendTable=new a,t.exports=new a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(0),r=i(a),s=n(4),u=i(s),c=function(){this.option={},this.columns=[],this.ele,this.eleBody,this.columnEngine,this.tempData=[],this.store=[],this.printData=[],this.state,this.timerNotify,this.A=function(t){this.state=t,this.notifyStateChange(t)},this.paging={show:10,pages:0,current:1},this.init=function(t,e){this.A(1),this.options=Object.assign({limit:-1,pageToShow:10,paging:{className:"pagination"}},e),this.paging.show=this.options.pageToShow,this.ele=document.getElementById(t),this.A(2),this.initColumns();var n=this,i=function(t,e){n.eventUi(t,e)};return this.builder=(new u.default).init(this.ele,this.options,this.columns),this.builder.createContainer(i),this.initialData(),this},this.initColumns=function(){if(this.A(3),r.default.isArray(this.options.columns)){var t=this.options.columns.map(function(t){if("string"==typeof t){var e=t.split(":");t={key:e[0],label:e[1]?e[1]:r.default.capitalFL(e[0]),order:!!e[2]}}return Object.create(t)});this.columns=t}else if("string"===Ember.typeOf(options.columns)){var e=[];options.columns.split(",").forEach(function(t){var n=t.split(":");e.push(Object.create({key:n[0],label:n[1]?n[1]:r.default.capitalFL(n[0]),order:!!n[2]}))}),this.columns=e}this.A(4)},this.updatePaging=function(){var t=(this.paging,this.options.limit),e=this.store.length;this.paging.pages=Math.floor(e/t)+1,this.A(17)},this.eventUi=function(t,e){var n=this;switch(t){case 1:!function(t){n.paging.pages>=t&&(n.paging.current=t,n.A(18))}(e);break;case 2:!function(t){n.paging.current=1,n.options.limit=t,n.A(19)}(e)}},this.initialData=function(){if(this.A(5),r.default.isArray(this.options.data))this.tempData=this.options.data,this.A(6);else if("string"==typeof this.options.data){var t=this;this.A(8),$.ajax({url:this.options.data,contentType:"application/json",success:function(e){var n=e;"function"==typeof t.options.mapResponse&&(n=t.options.mapResponse(n)),t.tempData=n,t.A(6)},always:function(){t.A(10)}})}else o(this.options.data)},this.loadData=function(t){var e=this.paging,n=this.options.limit,i=n>0?(e.current-1)*n:0,o=n>0?e.current*n:12e3;this.printData=this.store.slice(i,o),this.A(15)},this.injectData=function(){var t=this.tempData;"function"==typeof this.options.mapData&&(t=this.options.mapData(t)),this.store=this.store.concat(t),this.tempData=[],this.A(13)},this.appendRow=function(){var t=this.builder.appendRow(this.paging.current,this.options.limit,this.printData);this.printData=[],t?this.A(16):console.error("Problem on appending ROW")},this.notifyStateChange=function(t){switch(t){case 6:this.injectData();break;case 13:this.updatePaging(),this.loadData();break;case 15:this.appendRow();break;case 17:this.builder.appendPaging(this.paging);break;case 19:this.updatePaging();case 18:this.builder.empty(),this.loadData(),this.builder.appendPaging(this.paging)}}};t.exports=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(5),a=i(o),r=n(0),s=i(r),u=function(){return s.default.createDOM("tbody")},c=function(){var t=s.default.createDOM("tfoot");s.default.createDOM("tr");return t},l=function(t){var e=s.default.createDOM("thead"),n=s.default.createDOM("tr");return t.forEach(function(t){n.appendChild(f(t))}),e.appendChild(n),e},f=function(t){var e=s.default.createDOM("th"),n=document.createTextNode(t.label);return e.appendChild(n),e},p=function(t){return s.default.createDOM("ul",{class:t.className?t.className:""})},d=function(t){var e=s.default.createDOM("select",{class:t.className?t.className:""});return[10,20,40].forEach(function(t){var n=s.default.createDOM("option",{value:t});n.appendChild(document.createTextNode(t)),e.appendChild(n)}),e},h=function(){this.option={},this.columns=[],this.ele,this.eleBody,this.elePg,this.init=function(t,e,n){return this.ele=t,this.options=e,this.columns=n,this.columnEngine=(new a.default).init(n),this},this.createContainer=function(t){var e=s.default.createDOM("table",{id:this.options.table.idName?this.options.table.idName:"",class:this.options.table.className?this.options.table.className:""}),n=u();this.eleBody=n,e.appendChild(l(this.columns)),e.appendChild(n),e.appendChild(c()),this.ele.appendChild(e);var i=p(this.options.paging);this.elePg=i,this.ele.appendChild(i),i.addEventListener("click",function(e){if("A"==e.target.nodeName){var n=parseInt(e.target.dataset.rendIdx);t(1,n)}e.preventDefault()},!1);var o=d({});this.ele.appendChild(o),o.addEventListener("change",function(e){if("SELECT"===e.target.nodeName){var n=parseInt(e.target.value);t(2,n)}e.preventDefault()},!1)},this.empty=function(){this.eleBody.innerHTML=""},this.appendPaging=function(t){this.elePg.innerHTML="";for(var e=t.pages>t.show?t.show:t.pages,n=1;n<=e;n++){var i=s.default.createDOM("li",{class:t.current===n?"active":""}),o=s.default.createDOM("a",{href:"#","data-rend-idx":n}),a=document.createTextNode(n);o.appendChild(a),i.appendChild(o),this.elePg.appendChild(i)}},this.appendRow=function(t,e,n){try{var i=this,o=n.length,a=0;return function o(r){var s=r>200?200:r+1,u=200*a;if(!(s<0)){for(var c=0;c<s;c++){if(!n[u+c])return;var l=i.columnEngine.createRow((t-1)*e+c,n[u+c]);i.eleBody.appendChild(l)}r-=200,a++,setTimeout(function(){o(r)},50)}}(o),!0}catch(t){return!1}}};t.exports=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(0),r=i(a),s=n(1),u=i(s),c=function(t,e){switch((void 0===e?"undefined":o(e))===u.default.s&&(e={type:e}),e.type){case u.default.d.d:t=l(t,e);break;case u.default.d.m:t=f(t,e);break;case u.default.d.tl:t=r.default.stringToLower(t);break;case u.default.d.tu:t=r.default.stringToUpper(t)}return t},l=function(t,e){var n=e.format;return t&&n&&(r.default.isNumber(t)&&(t*=Math.pow(10,13-(t+"").length)),t=d.isMoment?moment(t).format(n):new Date(t)),t},f=function(t,e){var n=e.decimals,i=e.decimalSep,o=e.thousandsSep;return t&&n&&i&&o&&(t=r.default.toMoney(t,n,i,o)),t},p=function(t,e,n){var i=n[e.key];if(e.key===u.default.c)i=t+1;else if(o(e.render)===u.default.f){var a=e.render;i=a(i,e,n)}else o(e.display)!=u.default.u&&(i=c(i||"",e.display));i||(i=""),i=(e.prefix?e.prefix:"")+i+(e.suffix?e.suffix:"");var s=r.default.createDOM("td"),l=document.createTextNode(i);return s.appendChild(l),s},d=function(){this.isMoment=!1,this.columns={},this.init=function(t){try{moment().format("Y"),this.isMoment=!0}catch(t){this.isMoment=!1,console.log("moment is not exist")}return this.columns=t,this},this.createRow=function(t,e){var n=r.default.createDOM("tr");return this.columns.forEach(function(i){var o=p(t,i,e);n.appendChild(o)}),n}};t.exports=d}])});